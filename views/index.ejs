<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title><%= title %></title>
</head>
<body>
    <%- include('../navbar') %>

    <h1><%= title %></h1>

    <a href="/reservations/create">Nouvelle réservation</a>

    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Client</th>
                <th>Chambre</th>
                <th>Date début</th>
                <th>Date fin</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        <% if (reservations && reservations.length > 0) { %>
            <% reservations.forEach(r => { %>
                <tr>
                    <td><%= r.reservation_id %></td>
                    <td><%= r.idClient %></td>
                    <td><%= r.idChambre %></td>
                    <td><%= r.dateDebut.toISOString().slice(0,10) %></td>
                    <td><%= r.dateFin.toISOString().slice(0,10) %></td>
                    <td>
                        <a href="/reservations/<%= r.reservation_id %>/edit">Modifier</a>
                        <form action="/reservations/<%= r.reservation_id %>/delete" method="post" style="display:inline;">
                            <button type="submit">Supprimer</button>
                        </form>
                    </td>
                </tr>
            <% }) %>
        <% } else { %>
            <tr>
                <td colspan="6">Aucune réservation trouvée.</td>
            </tr>
        <% } %>
        </tbody>
    </table>
</body>
</html>
