<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title><%= title %></title>
</head>
<body>
  <h1><%= title %></h1>

  <% if (errors && errors.length) { %>
    <ul style="color:red;">
      <% errors.forEach(e => { %>
        <li><%= e %></li>
      <% }); %>
    </ul>
  <% } %>

  <form action="/reservations/<%= reservation.reservation_id %>/edit" method="post">
    <div>
      <label for="idClient">Client</label>
      <select name="idClient" id="idClient">
        <% clients.forEach(c => { %>
          <option value="<%= c.idClient %>"
            <%= reservation.idClient == c.idClient ? 'selected' : '' %>>
            <%= c.nom %>
          </option>
        <% }); %>
      </select>
    </div>

    <div>
      <label for="idChambre">Chambre</label>
      <select name="idChambre" id="idChambre">
        <% chambres.forEach(ch => { %>
          <option value="<%= ch.idChambre %>"
            <%= reservation.idChambre == ch.idChambre ? 'selected' : '' %>>
            <%= ch.numero %>
          </option>
        <% }); %>
      </select>
    </div>

    <div>
      <label for="dateDebut">Date début</label>
      <input type="date" id="dateDebut" name="dateDebut"
             value="<%= reservation.dateDebut.toISOString().slice(0,10) %>">
    </div>

    <div>
      <label for="dateFin">Date fin</label>
      <input type="date" id="dateFin" name="dateFin"
             value="<%= reservation.dateFin.toISOString().slice(0,10) %>">
    </div>

    <button type="submit">Mettre à jour</button>
    <a href="/reservations">Annuler</a>
  </form>
</body>
</html>
