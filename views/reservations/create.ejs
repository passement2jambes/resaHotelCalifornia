<h1><%= title %></h1>

<% if (errors.length > 0) { %>
    <div style="color: red;">
        <ul>
            <% errors.forEach(error => { %>
                <li><%= error %></li>
            <% }) %>
        </ul>
    </div>
<% } %>

<form action="/reservations/create" method="POST">
    <div>
        <label>Client :</label>
        <select name="idClient" required>
            <option value="">-- Choisir un client --</option>
            <% clients.forEach(client => { %>
                <option value="<%= client.id %>" <%= data.idClient == client.id ? 'selected' : '' %>>
                    <%= client.nom %> (ID: <%= client.id %>)
                </option>
            <% }) %>
        </select>
    </div>

    <div>
        <label>Chambre :</label>
        <select name="idChambre" required>
            <option value="">-- Choisir une chambre --</option>
            <% chambres.forEach(chambre => { %>
                <option value="<%= chambre.id %>" <%= data.idChambre == chambre.id ? 'selected' : '' %>>
                    Chambre n°<%= chambre.numero %>
                </option>
            <% }) %>
        </select>
    </div>

    <div>
        <label>Date de début :</label>
        <input type="date" name="dateDebut" value="<%= data.dateDebut || '' %>" required>
    </div>

    <div>
        <label>Date de fin :</label>
        <input type="date" name="dateFin" value="<%= data.dateFin || '' %>" required>
    </div>

    <button type="submit">Enregistrer la réservation</button>
    <a href="/reservations">Annuler</a>
</form>